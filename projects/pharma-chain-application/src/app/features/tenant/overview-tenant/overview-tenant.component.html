<div class="container col-md-8 overview-tenant">
  <!-- Header -->
  <div class="row">
    <div class="col">
      <h1 class="main-heading">Tenant Overview</h1>
    </div>
  </div>

  <!-- Tools -->
  <div class="tool-group" [ngClass]="routeAnimationsElements">
    <div class="row">
      <div class="col-4">
        <mat-form-field style="width: 100%;">
          <mat-label>Sort by</mat-label>
          <mat-select>
            <mat-option *ngFor="let option of sortOptions">{{option}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-8" style="padding-top: 8px">
        <pca-big-input placeholder="Business name or codes">
          <pca-big-input-action fontSet="fas" fontIcon="fa-search" faIcon="search" color="accent" matTooltip="Search"
            matTooltipPosition="before">
          </pca-big-input-action>
        </pca-big-input>
      </div>
    </div>
  </div>

  <!-- Data -->
  <div class="row" style="padding-top: 16px;" [ngClass]="routeAnimationsElements">
    <!-- (selectedIndexChange)="selected.setValue($event)" -->
    <mat-tab-group mat-stretch-tabs class="col">
      <mat-tab>
        <ng-template mat-tab-label>
          <span matBadge="{{(tenants | async)?.length}}" matBadgeOverlap="false">All</span>
        </ng-template>

        <!-- Tenant list -->
        <mat-accordion>
          <mat-expansion-panel *ngFor="let tenant of tenants | async" [ngClass]="routeAnimationsElements">
            <mat-expansion-panel-header>
              <mat-panel-title>{{tenant.name | slice:0:50}}<span *ngIf="tenant.name.length > 50">...</span>
              </mat-panel-title>
              <mat-panel-description>
                <span *ngIf="tenant.transactionStatus === 'Success'">Created date:
                  {{ tenant.dateCreated | slice:0:10 }}</span>
                <span *ngIf="tenant.transactionStatus !== 'Success'">Pending...</span>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="content-tenant">
              <!-- Business name -->
              <div class="row row-data">
                <div class="col-2 data-label">Business name</div>
                <div class="col-9">{{tenant.name}}</div>
              </div>
              <!-- Business type -->
              <div class="row row-data">
                <div class="col-2 data-label">Business type</div>
                <div class="col-9">{{tenant.type}}</div>
              </div>
              <!-- Tax code -->
              <div class="row row-data">
                <div class="col-2 data-label">Tax code</div>
                <div class="col-9">{{tenant.taxCode}}</div>
              </div>
              <!-- Registration code -->
              <div class="row row-data">
                <div class="col-2 data-label">Registrated code</div>
                <div class="col-9">{{tenant.registrationCode}}</div>
              </div>
              <!-- Phone number -->
              <div *ngIf="tenant.phoneNumber !== ''" class="row row-data">
                <div class="col-2 data-label">Phone number</div>
                <div class="col-9">{{tenant.phoneNumber}}</div>
              </div>
              <!-- Primary address -->
              <div class="row row-data">
                <div class="col-2 data-label">Primary address</div>
                <div class="col-9">{{tenant.primaryAddress}}</div>
              </div>
              <!-- Branch address -->
              <div class="row row-data">
                <div class="col-2 data-label">Branch address</div>
                <div class="col-9">
                  <span *ngFor="let branch of branchAddress; let i=index">({{i+1}}) {{branch}}; </span>
                </div>
              </div>
              <!-- Contract address -->
              <div class="row row-data">
                <div class="col-2 data-label">Contract address</div>
                <div *ngIf="tenant.contractAddress" class="col-9 txh-link"
                  (click)="onClickContracAddress(tenant.contractAddress)">
                  {{tenant.contractAddress}}
                </div>
                <div *ngIf="!tenant.contractAddress" class="col-9 txh-link">
                  Pending...
                </div>
              </div>
              <!-- Transaction hash -->
              <div class="row row-data">
                <div class="col-2 data-label">Transaction hash</div>
                <div class="col-9 txh-link" (click)="onClickTransactionHash(tenant.transactionHash)">{{tenant.transactionHash}}
                </div>
              </div>
              <!-- Certificates -->
              <div class="row row-data">
                <div class="col-2 data-label">GMP/GSP/GLP</div>
                <div class="col-9">{{goodPractices}}</div>
              </div>
              <div class="row">
                <div class="col-3" style="padding-top: 8px" *ngFor="let cert of certificates">
                  <img style="width: 100%;" src="{{cert.file}}">
                </div>
              </div>
            </div>
            <!-- Action button -->
            <div class="function-tenant-container">
              <button mat-mini-fab color="primary" class="function">
                <fa-icon icon="edit"></fa-icon>
              </button>
              <button mat-mini-fab color="warn" class="function" (click)="onClickDelete(tenant.id)">
                <fa-icon icon="trash"></fa-icon>
              </button>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <span matBadge="4" matBadgeOverlap="false">Manufacturers</span>
        </ng-template>
        Content 2
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <span matBadge="4" matBadgeOverlap="false">Distributors</span>
        </ng-template>
        Content 2
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <span matBadge="4" matBadgeOverlap="false">Retailers</span>
        </ng-template>

        Content 3
      </mat-tab>
    </mat-tab-group>
  </div>

  <!-- Paginator -->
  <div class="paginator-container" [ngClass]="routeAnimationsElements">
    <mat-paginator [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
      [showFirstLastButtons]="true" [pageIndex]="currentPageIndex" (page)="pageEvent($event)">
    </mat-paginator>
    <mat-form-field class="current-page-container">
      <input #pageNumberInput matInput [formControl]="currentPageNumberControl" (blur)="onblur()"
        (keydown.enter)="pageNumberInput.blur()">
    </mat-form-field>
  </div>
</div>